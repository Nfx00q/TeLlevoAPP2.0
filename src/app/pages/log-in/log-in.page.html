<ion-content>
  <body style="background-color: rgb(29, 29, 29);">
    <div class="box-centered">
      <ion-card class="login-card">
        <ion-header>
          <h1>Inicio de sesión</h1>
          <p>Ingresa tu correo y<br>contraseña para ingresar</p>
        </ion-header>
        <ion-card-content [formGroup]="loginForm">
          <div class="input-container">
            <input formControlName="email" type="email" placeholder="Correo electrónico" class="custom-input"/>
          </div>
          <div class="input-container">
            <input formControlName="pass" type="password" placeholder="Contraseña" class="custom-input"/>
          </div>

          <ion-grid style="padding: 0;">
            <ion-row style="padding: 0;">
              <ion-col size="9" style="padding: 0;">
                <ion-button expand="block" color="light" (click)="logIn()">
                  Iniciar sesión
                </ion-button>
              </ion-col>
              <ion-col size="3" style="padding: 0;">
                <ion-button expand="block" color="medium" (click)="goToRegister()">
                  <ion-icon name="person-add-outline"></ion-icon>
                </ion-button>
              </ion-col>
            </ion-row>
          </ion-grid>

          <ion-button color="warning" (click)="logInWithGoogle()" size="block" style="margin-top: 20px;">
            Iniciar con Google
            <ion-icon name="logo-google" slot="end"></ion-icon>
          </ion-button>

          <ion-button color="dark" (click)="logInWithGitHub()" size="block" style="margin-top: 10px;">
            Iniciar con Github
            <ion-icon name="logo-github" slot="end"></ion-icon>
          </ion-button>

          <ion-button color="medium" size="block" id="open-modal">Olvide mi contraseña</ion-button>
        </ion-card-content>
      </ion-card>
      
      <ion-modal #modal trigger="open-modal" [initialBreakpoint]="0.25" [breakpoints]="[0.25]">
        <ng-template>
          <ion-content>
            <form [formGroup]="resetForm" (ngSubmit)="resetPassword()" style="margin-top: 20px;">
              <ion-item lines="none" style="box-shadow: 0;">
                <ion-label position="stacked">Correo Electrónico</ion-label>
                <ion-input formControlName="email" type="email" placeholder="Ingresa tu email"></ion-input>
              </ion-item>
              <div *ngIf="resetForm.get('email')?.invalid && resetForm.get('email')?.touched" class="error-message">
                <ion-text color="danger">Por favor ingresa un correo válido</ion-text>
              </div>

              <ion-button expand="block" type="submit" [disabled]="resetForm.invalid" color="dark" style="margin: 0 10px;">
                Restablecer Contraseña
              </ion-button>
            </form>
          </ion-content>
        </ng-template>
      </ion-modal>
    </div>
  </body>
</ion-content>
